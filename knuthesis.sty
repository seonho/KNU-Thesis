%
%	knuthesis.sty
%	(c) Copyright 2015 by Seonho Oh.
%	KNU Dissertation Package
%	경북대학교 박사 학위논문 작성을 위한 패키지 파일
%
%	4 x 6
%
% 확인된 문제
% 글꼴이 일부 일치하지 않음
% 바탕체의 경우 bold가 존재하지 않음. OS에서 fake를 지원하는 듯
% 명조와 고딕의 경우, 해당 폰트가 확인되지 않음. 마찬가지로 굵은 글씨 따윈 없는 듯함

\NeedsTeXFormat{LaTeX2e}[1995/12/01]
\ProvidesPackage{knuthesis}[2014/12/01 KNU thesis package]

\RequirePackage{ifthen}
\RequirePackage{geometry}
\@ifclassloaded{memoir}{\DisemulatePackage{setspace}}{}
\RequirePackage{setspace}
% use kotex package for Korean
\RequirePackage{kotex}

\def\@ktitle{최종 논문 제목}
\def\@kauthor{홍 길 동}
\def\@major{School of Computer Science and Engineering}
\def\@kmajor{컴퓨터학부}
\def\@advisor{Gildong Hong}
\def\@kadvisor{홍 길 동}
\def\@degreedate{December \the\year}

\newcommand{\ktitle}[1]{\def\@ktitle{#1}}
\newcommand{\kauthor}[1]{\def\@kauthor{#1}}
\newcommand{\major}[1]{\def\@major{#1}}
\newcommand{\kmajor}[1]{\def\@kmajor{#1}}
\newcommand{\advisor}[1]{\def\@advisor{#1}}
\newcommand{\kadvisor}[1]{\def\@kadvisor{#1}}
\newcommand{\degreedate}[2]{\def\@degreedate{#2 #1}}

\newhangulfontfamily\mykormainfont{BatangChe}[Ligatures=TeX]

% 글꼴 설정
\ifxetex
\defaultfontfeatures{Mapping=tex-text}
\setmainhangulfont{BatangChe} % 한글 기본 글꼴은 바탕체
\setsanshangulfont{Malgun Gothic} % 한글 고딕 글꼴은 맑은 고딕
\fi

\renewcommand{\maketitle}{
	\thispagestyle{empty}
	\newgeometry{left=2cm,top=2.5cm,right=2cm,bottom=1.5cm}
	\setstretch{1.3}
	\begin{center}
		% space at least 3cm
		% \vspace*{3cm}
		% 12pt 명조, 굵게
		{\fontsize{11pt}{1pt}\selectfont \textbf{Thesis for the Degree of Ph.D.}}\\
		% space at least 2cm
		\vspace{2cm}
		% 21pt 바탕, 굵게
		{\fontsize{21pt}{1pt}\selectfont \textbf{\@title}}\\
		% space at least 3cm
		\vspace{3cm}
		% 12pt 바탕, 굵게
		{\fontsize{12pt}{1pt}\selectfont \textbf{\@major\\The Graduate School}}\\
		% space at least 2cm
		\vspace{2cm}
		% 14pt 바탕, 성과 이름은 띄어쓰고 이름의 각 음절은 붙여 씀
		% 예) Hong Gildong 또는 Hong Gil-dong
		{\fontsize{14pt}{1pt}\selectfont \textbf{\@author}}\\
		% space fill
		\vspace{\fill}
		% 12pt 바탕, 굵게, 1학기 June, 2학기 December
		{\fontsize{12pt}{1pt}\selectfont \noindent \textbf{\@degreedate}}\\
		% space at least 1cm
		\vspace{1cm}
		% 16 pt 맑은 고딕, 굵게
		{\fontspec{Malgun Gothic}\fontsize{16pt}{1pt}\selectfont \textbf{The Graduate School\\Kyungpook National University}}\\
		% space at least 2cm
		% \vspace*{2cm}
		% finish title page
	\end{center}
	\restoregeometry
}

\newcommand{\makeapproval}{
	\thispagestyle{empty}
	\newgeometry{left=2cm,top=2.5cm,right=2cm,bottom=1.5cm}
	\setstretch{1.3}
	\begin{center}
		% space at least 3cm
		% \vspace*{3cm}
		{\fontsize{21pt}{1pt}\selectfont \textbf{\@title}}\\
		% space at least 1cm
		\vspace{2cm}
		% 14pt 바탕, 성과 이름은 띄어쓰고 이름의 각 음절은 붙여 씀
		% 예) Hong Gildong 또는 Hong Gil-dong
		{\fontsize{14pt}{1pt}\selectfont \textbf{\@author}}\\
		% space at least 1cm
		\vspace{1cm}
		% 12pt 바탕
		{\fontsize{12pt}{1pt}\selectfont \textbf{\@major\\The Graduate School}}\\
		% space at least 1cm
		\vspace{1cm}
		{\fontsize{12pt}{1pt}\selectfont \textbf{Supervised by Professor \@advisor}}\\
		% space at least 1cm
		\vspace{1cm}
		{\fontsize{12pt}{1pt}\selectfont \textbf{Approved as a qualified thesis of \@author\\for the degree of Ph.D.~by the Evaluation Committee}}\\
		% space at least 1cm
		\vspace{1cm}
		% 12pt 바탕, 1학기 June, 2학기 December
		{\fontsize{12pt}{1pt}\selectfont \textbf{\@degreedate}}\\
		% space at least 1cm
		\vspace{0.5cm}
		% Refree
		\setlength{\tabulinesep}{16pt}
		\begin{table*}[!h]
			\begin{tabu}{X[1, c] X[1, r] X[1.5, c]}
			& {\fontsize{12pt}{24pt}\selectfont \textbf{Chairman}} & \underline{\hspace{\linewidth}}\\
			& & \underline{\hspace{\linewidth}}\\
			& & \underline{\hspace{\linewidth}}\\
			& & \underline{\hspace{\linewidth}}\\
			& & \underline{\hspace{\linewidth}}
			\end{tabu}
		\end{table*}
		% begin{flushright}\fontsize{12pt}{24pt}\selectfont
		% \begin{tabular}[h]{rp{35mm}c@{}p{11mm}}
		% \begin{tabular}{r c}
		% \textmybtc{\textbf{Chairman}} & \underline{\hspace{5cm}} \\
		% & \underline{\hspace{5cm}} \\
		% & \underline{\hspace{5cm}} \\
		% & \underline{\hspace{5cm}} \\
		% & \underline{\hspace{5cm}}
		% \end{tabular}
		% \end{flushright}
		% space at least 1cm
		\vspace{\fill}
		{\fontsize{14pt}{1pt}\selectfont \textbf{The Graduate School Council\\Kyungpook National University}}\\
		% \vspace*{2cm}
	\end{center}
	\restoregeometry
}

\newcommand{\makekorabstract}[1]{
	\begin{center}
	\setstretch{1.5}
	% space at least 3cm
	% \vspace*{3cm}
	% 12pt 고딕, 제목이 길 경우 두줄 이상 가능
	{\fontsize{12pt}{1pt}\selectfont \textsf{\textbf{\@ktitle}}}\\
	% space at least 1cm
	\vspace{1cm}
	% 10pt 고딕, 성과 이름은 띄어쓰고 이름의 각 음절은 붙여 씀
	% 예) Hong Gildong 또는 Hong Gil-dong
	{\fontsize{10pt}{1pt}\selectfont \textsf{\textbf{\@kauthor}}}\\
	% space at least 1cm
	\vspace{1cm}
	% 9pt 바탕체
	{\fontsize{9pt}{1pt}\selectfont 경북대학교 대학원 \@kmajor\\(지도교수 \@kadvisor)}\\
	\end{center}
	% space at least 1.5cm
	\vspace{1.5cm}
	\setstretch{1.3}
	% 12pt 바탕체
	{\fontsize{12pt}{1pt}\selectfont (초\hspace{1em}록)}\\
	% 9pt 바탕체
	{\fontsize{9pt}{1em}\selectfont \\ #1}
}